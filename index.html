<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mixler | Calgary's Fun Nights Out for Adults Who Want Real Connections</title>
  <meta name="description" content="Join Calgary's favourite social events for adults. Meet new people, enjoy curated nights out, and build real connections. No awkward networking, just good vibes.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

  <!-- Dynamic Nav -->
  <div id="site-nav"></div>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <div class="hero-badge">Calgary's #1 Social Events</div>
      <h1>Fun Nights Out for Adults Who Want <span class="accent">Real Connections</span></h1>
      <p>Curated social events in Calgary where you can meet new people, have a great time, and actually enjoy going out again.</p>
      <div class="hero-buttons">
        <a href="/events.html" class="btn btn-primary">Browse Events</a>
        <a href="#how-it-works" class="btn btn-outline">How It Works</a>
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section class="how-it-works" id="how-it-works">
    <div class="container text-center">
      <div class="section-label">How It Works</div>
      <h2 class="section-title">Three Steps to Your Next Great Night</h2>
      <p class="section-subtitle">No awkward networking. No pressure. Just show up, have fun, and let the connections happen naturally.</p>
      <div class="steps-grid">
        <div class="step-card">
          <div class="step-number">1</div>
          <h3>Pick an Event</h3>
          <p>Browse our curated lineup and choose the vibe that fits you. From chill mixers to high-energy nights, there's something for everyone.</p>
        </div>
        <div class="step-card">
          <div class="step-number">2</div>
          <h3>Grab Your Ticket</h3>
          <p>Secure your spot in seconds. Small group sizes keep things personal so you actually get to know people.</p>
        </div>
        <div class="step-card">
          <div class="step-number">3</div>
          <h3>Show Up &amp; Connect</h3>
          <p>We handle the venue, the icebreakers, and the energy. You just bring yourself and leave with new friends.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Upcoming Events (loaded from Supabase) -->
  <section class="events" id="events">
    <div class="container text-center">
      <div class="section-label">Upcoming Events</div>
      <h2 class="section-title">What's Coming Up</h2>
      <p class="section-subtitle">Fresh events every month. Grab your spot before they sell out.</p>
      <div class="events-grid" id="upcoming-events">
        <!-- Loaded dynamically from Supabase -->
      </div>
      <div style="margin-top: 40px;">
        <a href="/events.html" class="btn btn-outline">View All Events</a>
      </div>
    </div>
  </section>

  <!-- About -->
  <section class="about" id="about">
    <div class="container">
      <div class="about-grid">
        <div class="about-image"></div>
        <div class="about-content">
          <div class="section-label">About Mixler</div>
          <h2 class="section-title">Built for People Who Are Done with the Same Old Routine</h2>
          <p class="section-subtitle">Mixler started because going out in Calgary shouldn't feel like a chore. We create events where real conversations happen, real friendships form, and real fun is had. Whether you're new to the city or just looking to expand your circle, you belong here.</p>
          <div class="about-stats">
            <div class="stat">
              <h3>500+</h3>
              <p>Happy Attendees</p>
            </div>
            <div class="stat">
              <h3>50+</h3>
              <p>Events Hosted</p>
            </div>
            <div class="stat">
              <h3>4.9</h3>
              <p>Avg Rating</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="testimonials" id="testimonials">
    <div class="container text-center">
      <div class="section-label">Testimonials</div>
      <h2 class="section-title">What People Are Saying</h2>
      <p class="section-subtitle">Don't take our word for it. Hear from people who've been there.</p>
      <div class="testimonials-grid">
        <div class="testimonial-card">
          <div class="testimonial-stars">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
          <p>"I moved to Calgary last year and had no idea how to meet people. Mixler changed that in one night. I've been to five events now and made friends I actually hang out with."</p>
          <div class="testimonial-author">
            <div class="testimonial-avatar"></div>
            <div>
              <div class="testimonial-name">Sarah M.</div>
              <div class="testimonial-role">Calgary, AB</div>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <div class="testimonial-stars">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
          <p>"Finally, something that isn't a dating app or awkward networking event. Just good people, good vibes, and a genuinely fun time. Highly recommend."</p>
          <div class="testimonial-author">
            <div class="testimonial-avatar"></div>
            <div>
              <div class="testimonial-name">James K.</div>
              <div class="testimonial-role">Calgary, AB</div>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <div class="testimonial-stars">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
          <p>"My wife and I went to the couples mixer and had a blast. We met two other couples we now do dinner with monthly. This is what Calgary needed."</p>
          <div class="testimonial-author">
            <div class="testimonial-avatar"></div>
            <div>
              <div class="testimonial-name">David &amp; Lisa R.</div>
              <div class="testimonial-role">Calgary, AB</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="cta">
    <div class="container">
      <h2>Ready for Your Next Great Night Out?</h2>
      <p>Join hundreds of Calgarians who are tired of the same routine and ready for something better.</p>
      <a href="/events.html" class="btn btn-primary">Browse Upcoming Events</a>
    </div>
  </section>

  <!-- Dynamic Footer -->
  <div id="site-footer"></div>

  <script type="module">
    import { renderNav, renderFooter, renderEventCard } from './js/components.js';
    import { db } from './js/supabase-client.js';

    // Render shared components
    renderNav('home');
    renderFooter();

    // Load upcoming events from Supabase
    async function loadUpcomingEvents() {
      const container = document.getElementById('upcoming-events');
      const { data: events, error } = await db
        .from('events')
        .select('*')
        .eq('status', 'published')
        .gte('event_date', new Date().toISOString().split('T')[0])
        .order('event_date', { ascending: true })
        .limit(3);

      if (error || !events || events.length === 0) {
        container.innerHTML = '<p style="color: var(--color-body);">No upcoming events right now. Check back soon!</p>';
        return;
      }

      container.innerHTML = events.map(renderEventCard).join('');
    }

    loadUpcomingEvents();

    // Scroll reveal animation
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

    document.querySelectorAll('.step-card, .event-card, .testimonial-card').forEach(el => {
      el.style.opacity = '0';
      el.style.transform = 'translateY(20px)';
      el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
      observer.observe(el);
    });
  </script>
  <style>.visible { opacity: 1 !important; transform: translateY(0) !important; }</style>
</body>
</html>
